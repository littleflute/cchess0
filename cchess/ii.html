


<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>xd cchess II</title>
    <script type="text/javascript" src="https://littleflute.github.io/cchess0/cchess/book.js"></script>
    <script type="text/javascript" src="https://littleflute.github.io/cchess0/cchess/position.js"></script>
    <script type="text/javascript" src="https://littleflute.github.io/cchess0/cchess/search.js"></script>
    <script type="text/javascript" src="https://littleflute.github.io/cchess0/cchess/board.js"></script>
    <script type="text/javascript" src="https://littleflute.github.io/cchess0/cchess/cchess.js"></script>
   
  </head>
  <body>
    <div id = "xdMainDiv" style="border:1px green solid;">xdMainDiv_V0.0.6</div>  

    <script type="text/javascript"><!--
"use strict";

var STARTUP_FEN = [
  "rnbakabnr/9/1c5c1/p1p1p1p1p/9/9/P1P1P1P1P/1C5C1/9/RNBAKABNR w",
  "rnbakabnr/9/1c5c1/p1p1p1p1p/9/9/P1P1P1P1P/1C5C1/9/RNBAKAB1R w",
  "rnbakabnr/9/1c5c1/p1p1p1p1p/9/9/P1P1P1P1P/1C5C1/9/R1BAKAB1R w",
  "rnbakabnr/9/1c5c1/p1p1p1p1p/9/9/9/1C5C1/9/RN2K2NR w", 
];
 
function blClass()
{
  this.blBtn = function(oBoss,id,html){
    var r = document.getElementById(id);
    if(!r){
        r = document.createElement("button");
        r.id = id;
    	r.innerHTML = html; 
        r.style.backgroundColor="green";
    	if(oBoss!=null)oBoss.appendChild(r);
    }
    return r;
  }
  this.blDiv = function (oBoss,id,html){
    var r = document.getElementById(id);
    if(!r){
        r = document.createElement("div");
        r.id = id;
        r.style.border = "1px solid #3d3d3d";
      //  r.style.position = "fixed";
        r.style.top	=0; 
        r.style.backgroundColor="rgb(0,100,120)"; 

    	r.innerHTML = html; 
    	if(oBoss!=null) oBoss.appendChild(r);
    }
    return r;
  }
  this.blShowObj2Div = function(oBoss,obj){ 
    if(!oBoss) {
       oBoss = document.createElement("div");
       oBoss.id = "divBlShowObj";
       oBoss.style.border = "green 1px solid";
       document.body.appendChild(oBoss);
     } 
    if(!oBoss){
        alert("boss error!");return;
    } 
    oBoss.innerHTML = "";
    for(i in obj)
    {
      var b = document.createElement("button");
      b.id = b.innerHTML = i;
      if(i[0]=="b"&&i[1]=="l") b.style.backgroundColor = "yellow";
      oBoss.appendChild(b);
      var d = document.createElement("textarea");
      d.innerHTML = obj[i];
      d.style.border = "blue 1px solid";
      d.style.backgroundColor = "green";
      d.style.color = "yellow";
      oBoss.appendChild(d);
    }
  }  
}//END blClass

//*
var xm		= document.getElementById("xdMainDiv"); 
 
xm.blObj	= new blClass;
xm.run		= function(){
	var v_run 	= "v0.5.0";
	var bOnOff = this.blObj.blBtn ( this,"bOnOff","On/Off"); 
	var bTest1 = this.blObj.blBtn ( this,"bTest1","bTest1"); 
	var htmlTitle = 'xd cchess <a target = "_blank" href="https://github.com/littleflute/cchess0/edit/master/cchess/ii.html">'+v_run+'</a>'; 
    htmlTitle += ' <a target="_blank" href="https://littleflute.github.io/cchess0/cchess/ii.html">+me</a>';
    htmlTitle += ' <a target="_blank" href="https://www.w3schools.com/html/tryit.asp?filename=tryhtml_default">w3Dev</a>';
    
	var dTitle = this.blObj.blDiv ( this,"dTitle",htmlTitle);
	dTitle.style="text-align:center;font-size:28px;font-family:黑体";
	bOnOff.onclick = function ()
	{  
		new Audio("sounds/click.wav").play();
		this.style.backgroundColor = this.style.backgroundColor=="red"?"green":"red";		
		if(this.style.backgroundColor=="red"){ d.style.display = "none";dTitle.style.display = "none";}
		else {d.style.display = "block";dTitle.style.display = "block";}
	}
	bTest1.onclick = function (this_)
	{   
		return function(){
        	var o = this_.blObj;
            o.blShowObj2Div(divShowObj,xdObjBoard.pos);	
        };
	}(this);
 	BOARD_WIDTH 	= BOARD_WIDTH/2;
 	BOARD_HEIGHT 	= BOARD_HEIGHT/2;
 	SQUARE_SIZE	= SQUARE_SIZE/2;
	var d = this.blObj.blDiv ( this,"xddbgDiv","xddbgDiv");
	d.v	= "xd1_v0.3.6"; 
    var myBoard = this.blObj.blDiv(this,"container","");
	var divShowObj = this.blObj.blDiv ( this,"divShowObj","divShowObj");
}
xm.run();
//*/
 //*
var xdObjBoard 	= new Board(container, "https://littleflute.github.io/cchess0/cchess/images/", "https://littleflute.github.io/cchess0/cchess/sounds/");
var board = xdObjBoard;

board.setSearch(16);
board.millis = 1000;
board.computer = 1;
board.onAddMove = function() {
  var counter = (board.pos.mvList.length >> 1);
  var space = (counter > 99 ? "    " : "   ");
  counter = (counter > 9 ? "" : " ") + counter + ".";
  var text = (board.pos.sdPlayer == 0 ? space : counter) + move2Iccs(board.mvLast);
  var value = "" + board.mvLast; 
};
//  */
 
var c		= document.getElementById("container"); 
c.style.background = "url('https://littleflute.github.io/cchess0/cchess/images/board1_2.jpg')";

 
    --></script>
  </body>
</html>
